---
layout: cnblog_post
title: Nextstep
date: 2017-06-08 08:37:39
show: false
---
偷得浮生半日闲，心情半佛半神仙。难得的清闲，想对最近的生活做一下总结，顺便展望一下将来。

一直以来的计划、推倒旧计划、指定新计划循环往复的生活，我或者说我们，在经历一次次微弱的浮沉。成长或许会有一点，但回首起来，也不乏失望的心情。我记得在去年的这个时候，我几乎终日思考如何让自己进步这件事，反而少有脚踏实地的努力，将半年前买的有关视频处理的书籍放在公司，企图开始一段成为领域专家的历程。毕竟是在公司上班的人，手上也有一些没有技术含量却需要将时间耗在上面的工作，诸如被搁置的项目需求、疏漏百出的设计页面、永远找不到后台负责的接口或者说找到了却无法达到符合使用标准的接口，在当时的工作环境下，我认为我大部分的时间在被无意义地消耗，加之对职业发展的失望(我想这是主导因素)，我几乎变成一个极度慵懒的人。编码的过程我依然挚爱，虽然不愿意承认，但却是事实，欣喜于帮助同事解决了重大bug、积极参与编写一些基础性的功能模块、周围的人一直都认为我是非常适合写代码的、也有一些来自各方面的所谓'大神'的称呼，但是眼前的生活并没有一些实质性的改变。8月左右，俊霖的一个朋友拉我去创业，经过大约一个月的审视，我单方面的认为这个朋友不具备成为优秀管理者的潜质，于是我选择了退出，既然技术退出了，那么这个团队自然就解散了，与此同时的是发生在9月的组里的android开发任务有些多，而我被旁边的iOS小姑娘推荐进入android团队，说的那么高大上，其实就是写一些最简单的界面，而且这些界面是可以在其他已经存在的项目里面找到相似内容的，这个肯定是非常简单的。这样我有时候就会写一点android，真正在做事的时候你反而不会思考如何进步，因为进步发生在潜移默化中。但是我不认为一个多方面的好手是一个优秀的程序员，我一直坚定的认为：你介入的领域越多，你越不可能成为专家。假期的闲暇之余的知识补充或许是进步，或者会提升融会贯通的能力，但是在工作时间兼顾各个领域并行发展，最终的结果无疑是让你愈加平庸，这样的你在任何一个方面都是别人可替代的，每一个人的时间和精力都是有限的，全栈也不过是理想状态。说到这里定会有跳出来反驳我的人：我们公司就有许多全栈，谁说全栈不可行。那么我的反驳是：你看看你们公司的产品是什么级别的产品、质量又如何呢？

然而人生就像巧克力，你永远都不知道下一颗是什么味道。于是转机出现了，10月底，Janlor的公司说要招一个人iOS，是纯swift开发一个直播项目的推流端，现在非常着急上线，如果说我想去的话可以试一下。听到这件事心情就很不平静了，一直以来都那么推崇swift，但是想到自己现在有一个正在进行的项目，怎么说我们也是一个大公司，离职也要一段时间，这样那边就等不及了，我立即回绝了Janlor，说我不可能立马能过去。一周之后我他又告诉我新招的人水平不太行，基本上可以肯定是无法按需完成任务的，听到这件事我坚定地认为自己再不能错过这次机会了，10月31周一早上去了一趟他们的公司，和技术负责android开发大熊简单聊了一下，或许是试探性地，最终是给了offer。下午就回公司找组长面谈了一下，介于公司一直以来的现状和我迫切离开的心情，组长也是欣然同意了，这样离职就好办了许多，到现在都对组长心怀感激。11月4号我正式加入了新公司，牟足了劲准备在swift开发iOS这一领域大展宏图。

每天都是拼命的工作，但是从未感觉到疲惫，经过半个月项目功能基本上都完成了，12月初的时候项目就上线了。swift给了我很强烈的震撼：它的使用之简洁、它的设计之优秀、它的安全与健壮性......集众语言之长，将各种设计美学蕴于其中；集思广益，各家禅与道之缩影皆可寻；不仅表现力可圈可点，其扩展性更是强至令你脑洞大开。这段时间我在享受代码，我对公司的情况一无所知，只是偶尔觉得主播在旁边直播的声音很吵。以为一段充实的旅程就要开始了，不过接下来的各种事情真是不尽如人意。1月底我们还在进行第三版的新功能开发中，得到上面的消息：咱们的直播不挣钱，公司决定停止直播项目的开发，开启另一个新的项目。如同晴天霹雳，这些对于比我投入更多时间和精力的同事们来说更是残酷，Janlor瞬间有些不淡定了，它在最后一次提交代码的时候在commit中抒发了一下心中所愤。也就是这几天内，临近年假的头四五天，两个技术团队合并了，Janlor也离开了这家公司。记得也听过几次说老板，大体是说一开始做到直播项目是买来的代码，但是实在不好维护，折腾了两个月就不用了，那段时间他经常写代码到半夜，老板老是觉得他没有把活干好等等。有过几次的心灰意冷，再加上这一次的废弃项目，我想这些理由足够让Janlor决心要走了，虽然上面说这是裁员，但我想即使不是裁员，他也不太愿意待在这里了。

新的项目就在年前开始做技术调研了，我们是要做一款类似“触手TV”的手游录屏软件，我庆幸的是我们的产品没有偏离之前太远，而且我也可以决定继续用swift，年前的几天还有过年回来之后的几天我整理了一下我们之前使用的swift的通用工具，这次我决定不再和OC混编了，而是做一个pure swift项目。正值梳理心情后准备开始一段新的旅程之时，坎坷接踵而至。在与正在使用的录屏库交流的过程中得知这个非开源的录屏库中设有开关，超过几台设备之后便不能再继续使用。解决的方法就是交给他40W的授权费和每年10W服务费，在技术负责dust和我商讨后，我们决定自己研究录屏库，对于当前的时间来说还是允许的，我们的页面刚做了一些，录屏功能可以继续使用这个有限制的库测试，android方面有一新的小项目临时插了进来，于是在这期间我可以专心研究一下这个录屏库。这段时间我们经常开会跟进度，我却没有什么好说的只是回答一句：正在研究airplay录屏，但几乎每次开会dust都会强调一下，老板又问我了：“技术为什么不加班”，他继续说到，“我每次差不多都抗下来了， 我跟他说我们每天都有计划，都会按计划完成任务”。

大约从2月底开始一直到3月中持续近一个月的时间，我一直在研究这个录屏库，这个过程是非常枯燥无味的，但是大概是我第一次接触的真正有点技术含量的小项目。首先是研究了airplay客户端与服务端的通信流程，这个过程中我下载了各种支持airplay屏幕接收的软件，每天进行着索然无味的抓包，对packet进行无休止的分析，看到一些蛛丝马迹，诸如一些可能代表着协议类型的词进行整理，将报文表达的内容解析出来，各种google、google、google，各种纯英文的帖子和论坛翻来翻去，也遇到了‘If you don't open your source ,please get out. Fuck Chinese’这种抱着学究心态的真心发问的外国人对已有成果却拿来炫耀的中国人的谩骂。第二个阶段大概就是用OC代码实现服务端流程，在iOS7和8的年代有人实现过这个功能，可是9和10的机器上这些代码却无效了，我几乎翻遍了整个个github，各种语言的代码都进行了尝试，其中当属一份Python代码写的最好，而且代码经过简单修改之后是可以运行的，我看到了一点成功的希望，于是我开始试图用OC翻译这个Python程序，但是一开始的前介个接口都是用来验证的，于是我的工作又被卡住了。我尝试各种方法企图实现这个验证过程，首先想到的找到成功的例子，几天的google之后发现有人成功的破解过airport，那个成果已经被广泛应用在了音频传输上，可是mirror功能需要的这个验证至今还没有人破解过，这个用的是用于保护数字媒体的fairplay协议，于是我又查找了一些fairplay的资料，但是没有任何收获。此时的我是有些绝望的，因为我知道独立逆向出来的可能性为0.不管你的你想水平有多高，采用哪种算法你也不知道，即使你知道它的模型和算法，超大的计算量也只能通过超级计算机连续工作很多年来完成。然而那个运行在PC端的python程序确实破解了，没有找到渔的方法，只好吃现成的鱼了。这个python小程序的破解思路是将airplay固件中的动态库取出，直接调用了c方法完成的。我尝试在iOS上使用这个动态库，可无论如何都调用不成功那几个解密方法，思路转变一下，只能配合一下mac平台了。于是写了一个python小程序，用于给iOS提供解密服务，功能实现极其简单，就是将接受过来的串直接交给那个C方法又将结果直接返回给了iOS。几个解密的过程都顺利地进行下去了。在这期间，我对工作几乎达到了废寝忘食的地步，每天早上起床直到晚上睡觉的16个小时除了吃饭几乎都在盯着电脑屏幕，肩膀开始疼痛的我真的想要入手一本《颈椎病康复指南》。

正当录屏库的研究就快接近尾声之时，公司上头又来了消息：我们发现一个赚钱的项目，现在全国都在搞，斗地主啊。房卡模式的斗地主确实赚钱，用新来的临时CEO立波的话说：你想想现在玩什么游戏能让你玩一把赚一块钱。确实是这样，因为我们知道一个小小的破斗地主已经让很多人成为亿万富翁了，不是千万富翁，而是亿万富翁。在资本寒冬的时代，娱乐业却蒸蒸日上，我开始理解为什么去年被成为“直播元年”，而今年又被成为“棋牌元年”，纸醉金迷的掩盖之下就是大萧条。OK，我接受，如果我能进入游戏行业未尝不是一件好事。不过接下来2个月发生的事着实带给我很大的疑惑。

决定要整棋牌项目的事情宣布之后，对Cocos做了一些简单了解之后，我和大熊开始进行客户端了。三月中开始，老板让立波全权负责棋牌项目，从南京的一家公司买来了一份代码包含客户端和服务端，同时立波从JJ那里挖来了大猛，于是我和大熊研究客户端，dust和大猛研究服务端，这个项目就这样展开了。接下来的不到两个星期的时间，我们备受煎熬，这大概是我平生见过的最垃圾的代码，确切地说，它连垃圾这个词都不配，表面上的：没有任何原则，没有代码规范，仅仅是命名规范就有三四种，行文更是不堪，逻辑上：基本上用尽了能让代码变得耦合度变得更高的手段，而且各种胡乱的插入，尽是展现了作者的跳跃性，我们的服务端更是在那边售后的帮助下都没有调通。三月底的一个清早，老板让我们去开会说:走得早来得晚，你们一点也不像搞技术的，清明之后996，项目挣到钱的10%给你们分成，给你们所有的技术20分钟时间思考，不同意的现在就办离职。这段时间的一直忍耐和看不惯的几个领导的不成熟，至于如何的不成熟，我们所有人都心知肚明，还有之前发生的一位仙人介绍如何和老板吵架的事，我心里只是呵呵，感觉他们像是30多岁的人在办着十五六的小孩在做的事情。20分钟的时间足够让我思考很多事情，但我想的确只有这么多：这种办事的方式确实不太像老板，不过我完全可以认为是他在逼我们一把的手段，留下来拼一把也不是坏事；说到分成，我并没有多少希望，就在刚才老板还在一顿吹嘘我们的线下推广和运行能力以及稳固的政府关系，根据他们一贯爱吹牛的习惯推断如果我们的实力也算作雄厚的话，那么已经上线产品的竞品公司的实力岂不更强，换言之既然都是搞这个项目的人，大家都应该有政府关系和实力，你又怎知你的关系比他们硬呢；再者，我想的更多的或许是iOS市场的现状，如果我走了，那么可能真的又要经历一段辛苦的找工作的日子了。所以结局是20分钟后我们大家都同意了这个约定。

又是群邮件，又是商量工作计划，没有兴趣也装着有兴趣一样开始整起来了，两天后就清明了。收拾一下心情准备要上班了，假期过后的第一个清早大家又去开会了，依旧是那个一见面就在王者荣耀的运营，老板、立波、所有的技术，这次会上有两个陌生的面孔，老实说他们给我的印象就是饱经风霜的程序员，我知道他们的年龄不大，但是却显得沧桑。经过立波介绍这是我们的新同事，一个叫小强，负责游戏客户端，一个叫小童负责游戏客户端，他们是带着代码来的，我们要和他们配合在4月28号开发出三款游戏，目前我们的任务是完成游戏大厅，他们负责完成游戏。可笑的是让我们去国家会议中心附近的办公司封闭开发，如何封闭：每天在路上4个小时，还要保证上班的时间，吃饭自己解决！一帮蠢驴！不过还是几个人的劝说下，把这件事取消了，每个人都是来回折腾还不如在这里。

于是新一轮的开发工作又开始了，我们在这边写着代码，他们那边决策者。我的主要工作就是用lua配合C++写着大厅的功能，接口由dust出。dust和我们产品认为应该是只能够完成一款或者两款游戏，立波和老板要求完成三款，之后的许多天我的状态就是听从上面的安排，也许是我善于听，于是各种声音都听到了。

事件1：4月中dust因为小童没有上传代码到公司的git仓库中吵了一架，第二天的会议上因为这事dust和老板因沟通问题吵了一架。

事件2：原来他们两个人不是公司的人，而是和公司保持合作关系，他们编码，不要工资，赚钱后分成，(小童在上家公司的奖励是50W，没有分成)。这之后我几乎经常能听到各种吵架的声音，要么是在办公室，要么是在一个角落里。总之是小童和立波、老板不吵，产品ZC和名义上的CTO dust不吵（他们俩是多年的老铁），这样产品做一方，dust做一方，立波为一方、老板为一方、小童为一方，他们经常吵，剩下的人还相对和谐。上面传达下来的声音也很奇怪，我们上2款，我们上3款，我们只能上一款，我们必须至少上2款...

事件3：dust和小童因为微信接口问题当着全公司人的面吼了起来，这次不是在角落，而是在公司的正中央。

事件4：没有给大猛分配任务，有一天他找我帮他调那个屎一坨的买来的代码，公司不放弃那份代码，即使我们用lua完成大厅和游戏所有的功能，也要把那个C++游戏揉进来。

事件5：一个提示购买房卡写哪个公众号的问题，产品ZC和立波吵了起来，当着我的面骂立波不要脸摔门而去。

事件6：听说老板要开dust，我即将目睹一场开CTO的事件。

事件7：立波和dust又一次闹翻了，办公室里传出的声音很大，dust出门后打电话给仙人，告诉他被开除的消息，事件是4月27，预计上两款游戏的前一天，游戏功能小强和小童已经基本完成，还有些许bug，但是我们只有一款游戏。

事件8：4月28，dust过来收拾东西，本来我并不知道他过来，只是听到了办公室有吵架的声音。

事件9：还是4月29这一天：有许多人手机拿着打印单，着其中有小强，小五(dust带的前端)，产品ZC，下午6点的时候我知道了，dust、产品ZC、小五都走了，我不知道小强在干什么。6点去开会，只有立波和剩下的技术，立波说道：人员进进出出很正常。讨论到游戏卡顿问题时，只记得小童头也不抬很不屑地回答立波：和那个没关系。最后决定是5月8号上线这一款做好的麻将，然后我和大熊配合大猛做一款新的游戏，或许是麻将或许是扑克。

五一很快结束了：我们的996不知道还有没有效果，总之是我和大熊天天几乎按时下班。

事件10：假后第一天没看到小童和小强，第二天小强依然是像往常一样12点之后来上班了，他们是这里一直享受这个待遇的人。

事件11：5月8号依然没有看到小童。

事件12：我和大熊商量，人都一周没来了，怎么上线，不过大家好像都不太关心，也没有人给我们信息说今天上线。

事件13：我们听说小童不和公司合作了，再也没见到这个人。

事件14：大熊最近几天经常被叫去谈话，他告诉我当他建议大猛帮忙搞服务器的时候，老板说：他技术不行。我无从得知他如何获得这样的结论。

事件15：大猛这两天没来，应该走了吧。

事件16：大猛果然走了，得知房卡销售系统的后台豪楚也要走。

事件17：想让豪楚改一个dust的接口，一帮助我们完成游客登录，只有微信登录是审核不过的，豪楚拒绝了。豪楚在五月中的周四走了。

事件18：我和大熊调侃着：这个公司每天都有新闻。

事件19：小强说要重构代码，它负责服务器，让我们重构客户端，使用MVVM架构，我看了一下，只是文件名起得像MVVM，连单向绑定的机制都没有。

事件20：产品的名字改了，大厅去了，为了上架，还有其他一大堆要改的东西。

事件21：周一招了一个新同事A，带着代码来的，我们想把它的游戏揉进我们的大厅。

事件22：周二招了一个新同事B，带着代码来的，我们想把它的游戏揉进我们的大厅，没谈妥第二天再没来。

事件23：新同事A让我们调微信，这份代码不能在iOS上，他说最后再调，先在windows上调，windows调微信，how？

事件24：周一早到晚纠结于去不去辞职，下午小强来找我们说你们新游戏弄起来吧，大熊你搞服务端，我蒙，what？小强：不是说好了吗？大熊和我：我们不知道呀。产品李延：周六立波他们商量的，你们俩搞一款新的游戏。晚上我和大熊依然早走，被老板看到了。

事件25：老板跟大熊发微信问他为什么走那么早：加班迅速做出来呀，大熊：主要是不理解为啥老变，一会让我们干这个一会又干另一个，老板：赚钱!就干棋牌...怎么快怎么来，大熊：现在这个还没上架呢，又开始另一个了很乱呀，老板：现在的架子小强在重新做，新来的那个不是有成熟的架构吗？，大熊：现在的麻将是小强本人带过来的游戏 我们这么多人做了多久 还这个样子 这个网上哪哪都是的这份新代码 我们做完了 也要处理bug吧，纠正一下我理解的这个新来的带来的一套网上找到的一套源码，并不是成熟的架构。

我呵呵：真受不了那副嘴脸。

事件26：周二早上我去辞职，周二下午大熊辞职，我们收拾好东西准备回家。我被放了，老板电话说先不放大熊，有点事。

事件27：两天后的周五早上大熊给我发信息，立波、小强、新来的都走了，老板不跟他们合作了。

我呵呵：wtf

